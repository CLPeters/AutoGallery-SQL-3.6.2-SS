<html>
<head>
    <title>AutoGallery SQL - Documentation</title>
</head>
<link rel="stylesheet" type="text/css" href="style.css" />
<body>

<div align="center">
<span class="large">Upgrading From AutoGallery Pro 2.1.x</span>
</div>

<br />

<div style="width: 80%">

<b>Introduction</b>

<br />
<br />

This document will descibe the steps necessary to upgrade from AutoGallery Pro 2.1.x to AutoGallery SQL 3.6.x.  This upgrade process will work
only for AutoGallery Pro 2.1.x.  If you are using an older version of AutoGallery Pro, you will first need to upgrade it to 2.1.x.  The upgrade
process will allow you to keep your current galleries, partners, blacklist and a few other settings.  Your templates, however, cannot be imported,
so you should allow time to customize the new templates once your upgrade is complete.

<br />
<br />

<span class="important">
Important notes about AutoGallery SQL 3.x.x
</span>
AutoGallery SQL 3.x.x is a significantly different product from AutoGallery Pro 2.1.x.  While they both perform the same task of administering a TGP,
the template system and administrative control panels are very different.   Because the template system is different, your AutoGallery Pro 2.1.x templates
will not work with AutoGallery SQL 3.x.x.  You should take this into consideration when upgrading, as this will add some time to the upgrade process.
Because it is such a significant change from the 2.1.x version, we recommend that you install the software in a new directory so that you can test
it before you go live with it on your site.  The process for installing the 3.x.x version in a new directory is covered below.

<br />
<br />

<b>Make a Backup</b>

<br />
<br />

The first thing you should do is a database backup from the control panel of your AutoGallery Pro 2.1.x installation.   In the control
panel select the Backup/Restore Databases function, then press the execute function button. You will be taken to a page where you can select the backup
file name for your data. Enter the filename you want your data backed up to, or you can just leave it as the default. 

<br />
<br />

Once you have decided on filename, make sure the Backup Data function is selected in the dropdown menu. Press the execute function button,
and you will then be returned to the main administrative page. The backup function will run in the background, so you should allow at
least 60 seconds for it to complete before you move on to the next step.

<br />
<br />

FTP into your server and change into the data directory of your installation. You will find the backup file in this directory and it
will have the filename you selected when you did the backup. Download this files to your local computer in ASCII mode for safe keeping.

<br />
<br />

<b>Export Your Data</b>

<br />
<br />

Now you need to export your AutoGallery Pro 2.1.x data into a format that AutoGallery SQL can understand.  This is simple to do with the export utility included
with the 3.6.x version.  In the utilities directory of the software distribution you will find a file named agp2.1.x.cgi.  Upload that file to your
server in ASCII mode to the same directory where your AutoGallery Pro 2.1.x agp.pl file is located.  Set it's permissions to 755 and then bring it up in your browser.
It may take a few minutes for the data export to complete.  Once it does you will see a message telling you to continue to the next step of the
upgrade process.

<br />
<br />

The export script has created one file in the data directory of your AutoGallery Pro 2.1.x installation.  FTP into your server and download the file named upgrade.dat.
<span class="important">It is very important that you download the upgrade.dat file in binary mode or  it will be corrupted and will not be readable by AutoGallery SQL</span>.

<br />
<br />

<b>Decision Time</b>

<br />
<br />

At this point you need to decide if you want to install AutoGallery SQL in a new directory or keep the same directory name.  The benefit of installing 
in a new directory is that you can keep AutoGallery Pro running while you work with the new AutoGallery SQL installation.  The benefit of keeping the
same directory name is that you will not have to change any links or bookmarks to the script.

<br />


<ul>
<b>Installing in a New Directory</b>

<br />
<br />

If you have decided to install AutoGallery SQL in a new directory, go ahead and create that directory and do a normal installation of AutoGallery SQL as
described in the <a href="install.html" class="link">Installation</a> section of the software manual.  Do not copy any of the files from your 
AutoGallery Pro 2.1.x installation into the new directory.  Once you have completed the installation, skip ahead to the Importing Your Data section of this page.

<br />
<br />

<b>Keeping the Same Directory</b>

<br />
<br />

If you want to keep the same directory name you will need to rename the current directory.  For example, if AutoGallery Pro 2.1.x is installed in a directory
named tgp, change the name to tgp_old.  Once the directory has been renamed, create a new empty directory with the name of the original directory.  Do a normal
installation of AutoGallery SQL as described in the <a href="install.html" class="link">Installation</a> section of the software manual.  Do not copy any of the
files from your AutoGallery Pro 2.1.x installation into the new directory.  Once you have completed the installation, skip ahead to the Importing Your Data 
section of this page.
</ul>

<b>Importing Your Data</b>

<br />
<br />

Once you have your 3.6.x installation up and working properly, you can import the AutoGallery Pro 2.1.x data.  FTP into your server and upload the upgrade.dat file
to the data directory of your 3.6.x installation. <span class="important">It is very important that you upload the upgrade.dat file in binary mode or it will
be corrupted and will not be readable by the 3.6.x  installation</span>.

<br />
<br />

Next you will need to login to your AutoGallery SQL 3.6.x control panel.  Locate and click on the Database Tools link in the Setup section of the control panel menu.
AutoGallery SQL will then display a page where you will find a box at the top titled "Database Backup/Restore".  In the "Backup Filename" field enter upgrade.dat.
Once the field is filled in, click on the Restore button.   AutoGallery SQL will read the data files and import the data from your 2.1.x installation.  This may
take a few minutes, so allow enough time for it to complete.  After enough time has elapsed, you can continue using the software as usual.

<br />
<br />

<b>Restoring Categories</b>

<br />
<br />

The data import process does not restore your categories because AutoGallery SQL 3.x.x has many additional options that are set on a per-category basis.
For this reason you will need to manually setup your categories in AutoGallery SQL 3.x.x before you continue.  This is done through the administrative control panel,
and is covered in the <a href="categories.html" class="link">Categories</a> section of the manual.  When you copy the category names from your
AutoGallery Pro 2.1.x installation, make sure you copy them exactly.  The text case should be the same.  For example, if you had a category named 'Hardcore' in your
AutoGallery Pro 2.1.x installation, it needs to be named 'Hardcore' in your 3.x.x installation.  You cannot use 'hardcore', 'HARDCORE', or any other name that has changes
to the text case.

<br />
<br />


<b>Removing AutoGallery Pro 2.1.x</b>

<br />
<br />

Once your data has been imported and you are sure that you no longer need the AutoGallery Pro 2.1.x installation you can delete it from your server.  Simply 
delete all of the AutoGallery Pro 2.1.x files and folders.  Once they have been deleted, the removal is finished.

<br />
<br />

</div>

</body>
</html>